<!DOCTYPE html>
<html>
<head>
    <title>Multiple Photo Download with Preview</title>
    <style>
        #selectedPhotos {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .preview-img {
            max-width: 150px;
            max-height: 150px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <button id="photoButton">Select Photos</button>
    <button id="downloadButton">Download Selected Photos</button>
    <div id="selectedPhotos"></div>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    const photoButton = document.getElementById('photoButton');
    const downloadButton = document.getElementById('downloadButton');
    const selectedPhotosContainer = document.getElementById('selectedPhotos');
    const hiddenPhotoInput = document.createElement('input');
    hiddenPhotoInput.type = 'file';
    hiddenPhotoInput.multiple = true;
    hiddenPhotoInput.style.display = 'none';
    document.body.appendChild(hiddenPhotoInput);

    let selectedPhotos = [];

    photoButton.addEventListener('click', function() {
        hiddenPhotoInput.click();
    });

    hiddenPhotoInput.addEventListener('change', function(event) {
        selectedPhotos = Array.from(event.target.files);
        updateSelectedPhotosList();
    });

    downloadButton.addEventListener('click', function() {
        if (selectedPhotos.length > 0) {
            selectedPhotos.forEach(photo => {
                downloadPhoto(photo);
            });
        }
    });

    function updateSelectedPhotosList() {
        selectedPhotosContainer.innerHTML = '';
        selectedPhotos.forEach(photo => {
            const photoItem = document.createElement('div');
            const previewImg = document.createElement('img');
            previewImg.classList.add('preview-img');
            previewImg.src = URL.createObjectURL(photo);
            photoItem.appendChild(previewImg);
            selectedPhotosContainer.appendChild(photoItem);
        });
    }

    function downloadPhoto(photo) {
        const downloadLink = document.createElement('a');
        downloadLink.href = URL.createObjectURL(photo);
        downloadLink.download = photo.name;
        downloadLink.click();
        URL.revokeObjectURL(photo);
    }
});




    </script>
</body>
</html>